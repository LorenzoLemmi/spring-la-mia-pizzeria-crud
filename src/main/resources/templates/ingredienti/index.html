<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Le nostre pizze</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}">
</head>
<body>

    <div th:replace="fragments/navbar :: navbar"></div>

    <div class="container">
        <h1>Ingredienti</h1>
        <hr>
        <div class="row">
            <div class="col-4">

                <form th:action="@{/ingredienti/create}" method="post" th:object="${ingrediente}">
                    <div class="input-group mb-3">
                        <input type="text" th:field="*{nome}" class="form-control" placeholder="Nome ingrediente">
                        <button type="submit" class="btn btn-primary">Aggiungi</button>
                        <ul class="mb-0">
                            <li th:each="err : ${#fields.errors('nome')}" th:text="${err}">Errore</li>
                        </ul>
                    </div>
                </form>

                <ul class="list-group" th:if="${list.size() > 0}">
                    <li class="list-group-item d-flex justify-content-between align-items-center" th:each="item : ${list}">
                        <span th:text="${item.nome}"></span>
                        <form th:action="@{|/ingredienti/delete/${item.id}|}" method="post">
                            <button class="btn btn-danger btn-sm" type="submit" id="deleteButton"
                                    onclick="return confirm('Sei sicuro?')">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
                                    </svg>
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
            <div class="alert alert-primary" role="alert" th:unless="${list.size() > 0}" th:each="item : ${list}">
                Non Ã¨ presente nessun ingrediente
            </div>
        </div>
    </div>